{"version":3,"sources":["style/image.jpg","utils/axiosWithAuth.js","validation/formSchema.js","style/style.js","components/Login.js","components/Signup.js","components/CreateListing.js","components/UserProfile.js","components/ListingCard.js","components/PrivateRoute.js","App.js","index.js"],"names":["module","exports","axiosWithAuth","token","window","localStorage","getItem","axios","create","headers","Authorization","baseURL","formSchema","Yup","shape","firstName","min","lastName","username","email","password","required","Form","styled","form","Button","button","Label","label","Error","p","FormContainer","div","Card","Login","props","onSubmit","onChange","type","name","id","Signup","errors","disabled","CreateListing","values","setListingValues","listingValues","evt","target","value","neighbuorhood","roomtype","accomodates","minnumnights","UserProfile","userInfo","useState","userListings","setUserListings","history","useHistory","useEffect","get","then","res","console","log","data","listings","catch","err","className","primaryemail","onClick","push","map","listing","key","listingid","to","optimalPrice","neighbourhood","ListingCard","editing","setEditing","useParams","listingData","setListingData","e","preventDefault","getData","delete","finally","patch","defaultValue","PrivateRoute","Component","component","rest","render","initialLoginValues","initialSignupValues","initialErrors","initialListingValues","initialListings","App","loginValues","setLoginValues","signupValues","setSignupValues","formErrors","setFormErrors","setDisabled","setUserInfo","setListings","onInputChange","validate","onLogin","post","btoa","setItem","access_token","userid","isValid","valid","href","exact","path","newUser","firstname","lastname","newListing","document","getElementById"],"mappings":"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","file":"static/js/main.46283d1e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/image.6f3d4789.jpg\";","import axios from \"axios\";\n\n\n// const axiosWithAuth = () => {\n//   // const token = localStorage.getItem(\"token\");\n//   return axios.create({\n//     headers: { Authorization: Bearer ${localStorage.getItem('token')} }\n//   });\n// export default axiosWithAuth;\n\nconst axiosWithAuth = () => {\n  const token = window.localStorage.getItem(\"token\"); // Retrieve token from local storage\n  return axios.create({ // Return new instance of axios\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    baseURL: \"https://seanmx96-airbnb-optimal-price.herokuapp.com/\"\n  });\n};\n\nexport default axiosWithAuth;","import * as Yup from 'yup'\n\nconst formSchema = Yup.object().shape({\n    firstName: Yup\n    .string()\n    .min(2, \"First Name must be at least 2 characters long.\"),\n    lastName: Yup\n      .string()\n      .min(2, \"Last Name must be at least 2 characters long.\"),\n    username: Yup\n      .string()\n      .min(4, \"Username must be at least 4 characters long.\"),\n\n    email: Yup\n      .string()\n      .email('Invalid Email'),\n\n    password: Yup\n      .string()\n      .min(6, 'Password must be at least 6 characters long')\n      .required('Required')\n\n\n  });\n\n  export default formSchema","import styled from 'styled-components'\nimport img from './image.jpg'\n\n\nconst Form = styled.form`\n    width:60%;\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    border:4px solid white;\n    padding: 0% 0% 3% 0%;\n    margin-top: 3%;\n    border-radius: 20px;\n    color: white;\n`\n\nconst Button = styled.button`\n    width:15%;\n    color: #FF5A5F;\n    border: 2px solid #FF5A5F;\n    border-radius:20px;\n`\n\nconst Label = styled.label`\n    margin: 2%;\n    background: rgba(0, 0, 0, 0.8);\n    padding: 1%;\n    border-radius:20px;\n    width:40%;\n    font-size: 1.2rem;\n    border: 2px solid white;\n`\n\nconst Error = styled.p`\n    font-size:.8rem;\n    color: red;\n    background: rgba(0, 0, 0, 0.8);\n`\n\nconst FormContainer= styled.div`\n    width:100%;\n    display:flex;\n    align-items:center;\n    flex-direction: column;\n    color:white;\n`\nconst Card=styled.div`\n    width: 50%;\n    height: 100%;\n    margin: 5%;\n    background: lightblue;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border-radius: 20px;\n    border: 2px solid white;\n    \n`\n\n\nexport {Form, Button, Label, Error, FormContainer, Card}","import React from 'react'\nimport {Form, Button, Label} from '../style/style'\n\n\nexport default function Login(props) {\n    const {onSubmit, onChange} = props\n\n\n    return(\n        <Form onSubmit={onSubmit}>\n            <div>\n            <h2>Login:</h2>\n            </div>\n            \n            <Label>Username:&nbsp;\n                <input\n                    type='text'\n                    name='username'\n                    onChange={onChange}\n                />\n            </Label>\n\n            <Label>Password:&nbsp;\n                <input \n                    type='password'\n                    name='password'\n                    onChange={onChange}\n                />\n            </Label>\n\n\n            <Button id='submitBtn'>Login</Button>\n        </Form>\n    )\n}","import React from 'react'\n\nimport {Form, Button, Label, Error} from '../style/style'\n\n\nexport default function Signup(props) {\n\n    const {onSubmit, onChange, errors, disabled} = props\n\n    return(\n        <Form onSubmit={onSubmit}>\n            <div>\n            <h2>Sign Up:</h2>\n            </div>\n            \n            <Label>First Name:&nbsp;\n                <input\n                    type='text'\n                    name='firstName'\n                    onChange={onChange}\n                />\n            </Label>\n            <Error>{errors.firstName}</Error>\n\n            <Label>Last Name:&nbsp;\n                <input\n                    type='text'\n                    name='lastName'\n                    onChange={onChange}\n                />\n            </Label>\n            <Error>{errors.lastName}</Error>\n\n            <Label>Email:&nbsp;\n                <input\n                    type='email'\n                    name='email'\n                    onChange={onChange}\n                />\n            </Label>\n            <Error>{errors.email}</Error>\n\n            <Label>Username:&nbsp;\n                <input\n                    type='text'\n                    name='username'\n                    onChange={onChange}\n                />\n            </Label>\n            <Error>{errors.username}</Error>\n\n            <Label>Password:&nbsp;\n                <input \n                    type='password'\n                    name='password'\n                    onChange={onChange}\n                />\n            </Label>\n            <Error>{errors.password}</Error>\n\n\n            <Button id='submitBtn' disabled={disabled}>Sign Up</Button>\n        </Form>\n    )\n}","import React from 'react'\nimport {Form, Button, Label} from '../style/style'\nimport '../style/Form.css'\n\n\nexport default function CreateListing(props) {\n    \n    const {onSubmit, values, disabled, setListingValues, listingValues} = props\n\n    const onChange = evt => {\n        const {name, value} = evt.target\n        setListingValues({\n            ...listingValues,\n            [name]: value\n          })\n        }\n  \n    return(\n        <Form onSubmit={onSubmit}>\n            <div>\n            <h2>Create Listing:</h2>\n            </div>\n            \n            <Label>Neighbourhood:&nbsp;\n                <input\n                    type='text'\n                    name='neighbourhood'\n                    value={values.neighbuorhood}\n                    onChange={onChange}\n                />\n            </Label>\n            {/* <Error>{errors.location}</Error> */}\n            <Label>Room type:&nbsp;\n                <select\n                    name='roomtype'\n                    value={values.roomtype}\n                    onChange={onChange}\n                >\n                    <option value=''>-- None --</option>\n                    <option value='Private room'>Private room</option>\n                    <option value='Entire home/apt'>Entire home/apt</option>\n                    <option value='Shared room'>Shared room</option>\n\n                </select>\n            </Label>\n\n\n\n            <Label>Maximum Guests:&nbsp;\n                <select\n                    name='accomodates'\n                    value={values.accomodates}\n                    onChange={onChange}\n                >\n                    <option value=''>-- None --</option>\n                    <option value='1'>1</option>\n                    <option value='2'>2</option>\n                    <option value='3'>3</option>\n                    <option value='4'>4</option>\n                    <option value='5'>5</option>\n                    <option value='6'>6</option>\n                </select>\n            </Label>\n            {/* <Error>{errors.maxnumguests}</Error> */}\n\n            <Label>Minimum Stay:&nbsp;\n                <select\n                    name='minnumnights'\n                    onChange={onChange}\n                    value={values.minnumnights}\n                >\n                    <option value='0'>-- None --</option>\n                    <option value= '1'>One Night</option>\n                    <option value='2'>Two Nights</option>\n                    <option value='3'>Three Night</option>\n                    <option value='4'>Four Nights</option>\n                    <option value='5'>Five Nights</option>\n                    <option value='6'>Six Nights</option>\n                </select>\n            </Label>\n            {/* <Error>{errors.minnumnights}</Error> */}\n\n\n        \n            <Button id='submitBtn' disabled={disabled}>Add Listing</Button>\n        </Form>\n    )\n}\n","import React, {useEffect, useState} from 'react';\nimport {useHistory, Link} from 'react-router-dom'\n\nimport {FormContainer, Button, Card, Label} from '../style/style'\nimport axiosWithAuth from '../utils/axiosWithAuth';\n\n\nexport default function UserProfile(props){\n    const {userInfo} = props\n    const [userListings, setUserListings]= useState([])\n    // console.log(props)\n    const history = useHistory()\n\n    useEffect(()=>{\n        axiosWithAuth()\n            .get('/users/getuserinfo')\n            .then(res => {\n                console.log('this is the user data', res)\n                setUserListings(res.data.listings)\n                console.log('this is user info', userListings)\n                console.log(userInfo)\n            })\n            .catch(err => console.log(err))\n        },[])\n \n    return(\n        <FormContainer>\n            <div className='profile-div'>\n            <h1 className='profile'>Welcome {userInfo.username}</h1>\n            <p>{userInfo.primaryemail}</p>\n            </div>\n            <Button onClick={()=>{history.push('/createlisting')}}>+ ADD LISTING</Button>\n            \n                {userListings && userListings.map(listing=>{\n                    return (\n                        <Card key={listing.listingid}>\n                            <Link to ={`/listingcard/${listing.listingid}`}>Edit this entry</Link>\n                            <Label>Optimal Price: {listing.optimalPrice}</Label>\n                            <Label>Neighborhood: {listing.neighbourhood}</Label>\n                            <Label>Room type: {listing.roomtype}</Label> \n                            <Label>Maximum guests: {listing.accomodates}</Label>\n                            <Label>Minimum nights: {listing.minnumnights}</Label> \n                         </Card>   \n\n                    )\n                })}\n            \n           \n         \n        </FormContainer>\n    )\n}","import React, {useState, useEffect} from 'react';\nimport axiosWithAuth from '../utils/axiosWithAuth'\nimport {useHistory, useParams} from 'react-router-dom';\nimport {Form, FormContainer, Button, Label, Card} from '../style/style'\n\nconst ListingCard = () => {\n\n    const [editing, setEditing] = useState(false);\n    \n    const { listingid } = useParams();\n    const history = useHistory()\n    \n    \n    const [listingData, setListingData]= useState([])\n    // console.log(props)\n\n    useEffect(()=>{\n        axiosWithAuth()\n            .get(`/listings/listing/${listingid}`)\n            .then(res => {\n                console.log('this is the user data', res)\n                setListingData(res.data)\n                console.log('this is listing data', listingData)\n            })\n            .catch(err => console.log(err))\n        },[])\n    \n    // const listing = {\n    //     listingid: listingData.listingid,\n    //     roomtype: listingData.roomtype,\n    //     neighbourhood: listingData.neighbourhood,\n    //     accomodates:listingData.accomodates,\n    //     minnumnights:listingData.minnumnights,\n    //     optimalPrice: listingData.optimalPrice\n    // }\n\n        \n    const onChange = e =>{\n        e.preventDefault()\n        setListingData({\n          ...listingData,\n            [e.target.name]: e.target.value\n    \n        })\n        }\n\n    //Use effect fires when component mounts, then sending out axios call\n    useEffect(()=>{\n        getData()\n    }, [])\n\n    const getData = () =>{\n        axiosWithAuth()\n            .get(`/listings/listing/${listingid}`)\n            .then(res=>{\n                console.log(res)\n                setListingData(res.data)\n            })\n            .catch(err=>{\n                console.log(err)\n            })\n\n    }\n\nconst deleteEntry = () =>{\n    axiosWithAuth()\n        .delete(`/listings/listing/${listingid}`)\n        .then(res=>{\n            console.log(res)\n            \n        })\n        .catch(err=>{\n            console.log(err)\n        }).finally(history.push('/userprofile'));\n\n}\nconst saveEntry = e =>{\n    e.preventDefault()\n    console.log('save entry listing data', listingData)\n    axiosWithAuth()\n        .patch(`/listings/listing/${listingid}`, listingData)\n        .then(res=>{\n            console.log('save entry', res)\n            setEditing(!editing)\n            \n        })\n        .catch(err=>{\n            console.log('save entry', err)\n        }).finally (history.push('/userprofile'));\n\n}\nconst editEntry = () =>{\n    setEditing(!editing)\n}\n\n    return(\n       <FormContainer>\n            <Card>\n                <h2>Optimal price for this listing: {listingData.optimalPrice}</h2>\n                 <Label>Neighbourhood: {listingData.neighbourhood}</Label>\n                <Label>Maximum guests: {listingData.accomodates}</Label>\n                <Label>Minimum nights: {listingData.minnumnights}</Label> \n                <Label>Room type: {listingData.roomtype}</Label> \n                \n                <Button onClick={editEntry}>Edit</Button>\n                <Button onClick={()=>{deleteEntry(listingData.listingid)}}>Delete</Button>\n            </Card>\n           \n            {editing ? (<Form onSubmit={saveEntry}>\n                \n\n            <Label>Neighbourhood:&nbsp;\n                <input\n                    type='text'\n                    name='neighbourhood'\n                    defaultValue={listingData.neighbourhood}\n                    onChange={onChange}\n                />\n            </Label>\n            {/* <Error>{errors.location}</Error> */}\n\n             <Label>Room type:&nbsp;\n                <select\n                    name='roomtype'\n                    value={listingData.roomtype}\n                    onChange={onChange}\n                >\n                    <option value=''>-- None --</option>\n                    <option value='Private room'>Private room</option>\n                    <option value='Entire home/apt'>Entire home/apt</option>\n                    <option value='Shared room'>Shared room</option>\n\n                </select>\n            </Label>\n\n            <Label>Maximum Guests:&nbsp;\n                <select\n                    name='maxnumguests'\n                    value={listingData.accomodates}\n                    onChange={onChange}\n                >\n                    <option value=''>-- None --</option>\n                    <option value='1'>1</option>\n                    <option value='2'>2</option>\n                    <option value='3'>3</option>\n                    <option value='4'>4</option>\n                    <option value='5'>5</option>\n                    <option value='6'>6</option>\n                </select>\n            </Label>\n            {/* <Error>{errors.maxnumguests}</Error> */}\n\n            <Label>Minimum Stay:&nbsp;\n                <select\n                    name='minnumnights'\n                    onChange={onChange}\n                    value={listingData.minnumnights}\n                >\n                    <option value=''>-- None --</option>\n                    <option value='1'>One Night</option>\n                    <option value='2'>Two Nights</option>\n                    <option value='3'>Three Night</option>\n                    <option value='4'>Four Nights</option>\n                    <option value='5'>Five Nights</option>\n                    <option value='6'>Six Nights</option>\n                </select>\n            </Label>\n            {/* <Error>{errors.minnumnights}</Error> */}\n\n           \n                <Button type='submit'>Save Edit</Button>\n                </Form>): <Label>Thank you for using OptimalPrice!</Label>}\n      \n        \n               \n        </FormContainer> \n    )\n}\nexport default ListingCard","import React from 'react';\nimport {Route, Redirect} from 'react-router-dom';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n    const token = localStorage.getItem(\"token\");\n    return (\n      <Route\n        {...rest}\n        render={() => {\n          if (token) {\n            return <Component />;\n          } else {\n            return <Redirect to=\"/login\" />;\n          }\n        }}\n      />\n    );\n  };\n\n  export default PrivateRoute;","import React, {useState, useEffect} from 'react';\nimport './App.css';\n\nimport {Switch, Route, Link, useHistory} from 'react-router-dom';\nimport axios from 'axios';\nimport axiosWithAuth from './utils/axiosWithAuth';\nimport * as Yup from 'yup';\nimport formSchema from './validation/formSchema';\n\nimport Login from './components/Login';\nimport Signup from './components/Signup';\nimport CreateListing from './components/CreateListing';\nimport UserProfile from './components/UserProfile';\nimport ListingCard from './components/ListingCard';\nimport PrivateRoute from './components/PrivateRoute';\n\n\nconst initialLoginValues = {\n  username:'',\n  password:'',\n}\n\nconst initialSignupValues = {\n  firstName:'',\n  lastName:'',\n  username:'',\n  password:'',\n  email:'',\n}\n\nconst initialErrors= {\n  firstName: '',\n  lastName: '',\n  username: '',\n  email: '',\n  password: '',\n}\n\nconst initialListingValues= {\n  \n  optimalPrice: 250,\n  roomtype: '',\n  neighbourhood: '',\n  accomodates: 0,\n  minnumnights: 0,\n\n}\n\nconst initialDisabled= false\nconst initialListings = []\n\n\n function App() {\n\n  const [loginValues, setLoginValues] = useState(initialLoginValues)\n  const [signupValues, setSignupValues] = useState(initialSignupValues)\n  const history = useHistory();\n  const [formErrors, setFormErrors] = useState(initialErrors)\n  const [disabled, setDisabled] = useState(initialDisabled)\n  const [userInfo, setUserInfo] = useState({})\n  const [listingValues, setListingValues] = useState(initialListingValues)\n  const [listings, setListings] = useState(initialListings)\n\n  const getUserInfo = () => {\n    axiosWithAuth()\n    // .get('https://reqres.in/api/users/2')\n    .get('https://seanmx96-airbnb-optimal-price.herokuapp.com/users/getuserinfo')\n    .then(res => {\n      setUserInfo(res.data)\n      console.log(res.data.userid)\n      localStorage.setItem('userid', res.data.userid)\n      const userid = localStorage.getItem('userid')\n      console.log(userid)\n\n\n    })\n    .catch(err => {\n      debugger\n    })\n    \n  }\n\n\n  const onInputChange = evt => {\n    const {name, value} = evt.target\n\n    Yup\n    .reach(formSchema, name)\n    .validate(value)\n    .then(() => {\n      setFormErrors({\n        ...formErrors,\n        [name]:''\n      })\n    })\n    .catch(err => {\n      setFormErrors({\n        ...formErrors,\n        [name]: err.errors[0]\n      })\n    })\n\n    setLoginValues({\n      ...loginValues,\n      [name]: value\n    })\n\n    setSignupValues({\n      ...signupValues,\n      [name]: value\n    })\n\n    // setListingValues({\n    //   ...listingValues,\n    //   [name]: value\n    // })\n\n    // console.log(signupValues)\n  }\n\n  // const postNewUser = newUser => {\n  //   axios.post('https://seanmx96-airbnb-optimal-price.herokuapp.com/createnewuser', newUser)\n  //   .then(res => {\n  //     setUsers([...users, res.data])\n  //   })\n  //   .catch(err => {\n  //     debugger\n  //   })\n  // }\n\n  const onSignup = evt => {\n    evt.preventDefault()\n    const newUser = {\n      firstname: signupValues.firstName,\n      lastname: signupValues.lastName,\n      username: signupValues.username,\n      password: signupValues.password,\n      primaryemail: signupValues.email,\n\n    }\n\n        axios\n            .post('https://seanmx96-airbnb-optimal-price.herokuapp.com/createnewuser', newUser)\n            .then(res=>{\n                console.log(res.data)\n                history.push('/login')\n                setSignupValues(initialSignupValues)\n            })\n\n            // .then(() => {\n            //   axios\n            //   .post('https://reqres.in/api/users/3', newUser)\n            //   .finally(() =>{\n            //     axios\n            //     .\n            //   })\n            // })\n            .catch(err=>{\n                console.log(err)\n            })\n  }\n  \n\n  const onLogin = e => {\n    e.preventDefault()\n    axiosWithAuth()\n        .post('/login', `grant_type=password&username=${loginValues.username}&password=${loginValues.password}`, {\n          headers: {\n            Authorization: `Basic ${btoa('lambda-client:lambda-secret')}`,\n            'Content-Type': 'application/x-www-form-urlencoded'\n\n          }\n        })\n        .then(res=>{\n            localStorage.setItem('token', res.data.access_token)\n            // localStorage.setItem('user id', res.data.userid)\n            const token = localStorage.getItem('token')\n           \n            \n            console.log(token)\n            \n            console.log(res)\n            setLoginValues(initialLoginValues)\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n        .finally(() => {\n          getUserInfo()\n          history.push('/userprofile')\n        })\n  }\n\n  const onAddListing = e => {\n    e.preventDefault()\n    \n    const newListing = {\n      optimalPrice: listingValues.optimalPrice,\n      roomtype: listingValues.roomtype,\n      neighbourhood: listingValues.neighbourhood,\n      accomodates: listingValues.accomodates,\n      minnumnights: listingValues.minnumnights,\n    }\n    const userid = localStorage.getItem('userid')\n      console.log(userid)\n\n    axiosWithAuth()\n      .post(`/listings/user/${userid}/`, newListing)\n      .then(res => {\n          console.log(res.data)\n          setListings(res.data)\n          // history.push('http://localhost:3000/userprofile')\n      })\n      .catch(err =>{\n        debugger\n      })\n      .finally(() => {\n        console.log(listings)\n        history.push('/userprofile')\n      })\n  }\n\n  useEffect(() => {\n    formSchema.isValid(signupValues).then(valid => {\n      setDisabled(!valid);\n    });\n  }, [signupValues])\n\n  // useEffect(() => {\n  //   axios\n  //     .get('https://reqres.in/api/users/')\n  //     .then(res => {\n  //       console.log(res.data)\n  //     })\n  // }, [signupValues])\n\n  return (\n  <div className=\"App\">\n      <nav className=\"App-header\">\n        <h1>AirBnb Price Optimization</h1>\n        <div className='nav-links'>\n          <a className='link' href='https://airbnb-3.github.io/user-interface-zave/'>About</a>\n          <Link className='link' to='/login'>Login</Link>\n          <Link className='link' to='/signup'>Sign Up</Link>\n        </div>\n      </nav>\n      <div className='body'>\n      <Switch>\n        <Route exact path='/signup'>\n          <Signup onSubmit={onSignup} onChange={onInputChange} values={signupValues} errors={formErrors} disabled={disabled}/>\n          {/* <CreateListing onChange={onAddListing} values={listingValues}/> */}\n        </Route> \n        \n        <Route exact path='/login'>\n          <Login onSubmit={onLogin} onChange={onInputChange} values={loginValues}/>\n        </Route>\n\n      <PrivateRoute  path='/userprofile'> \n        <UserProfile userInfo={userInfo} setUserInfo={setUserInfo}/>\n      </PrivateRoute>\n     \n      <PrivateRoute path='/listingcard/:listingid' component={ListingCard}/>\n      <PrivateRoute exact path='/createlisting'>\n        <CreateListing onSubmit={onAddListing} values={listingValues} setListingValues={setListingValues} listingValues={listingValues} />\n      </PrivateRoute>\n          <Login onSubmit={onLogin} onChange={onInputChange} values={loginValues}/>\n      <Route path ='/'>\n        \n      </Route>\n     \n\n       \n        </Switch>\n\n    </div>\n  </div>\n\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM, {render} from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nrender(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n\n\n\n"],"sourceRoot":""}